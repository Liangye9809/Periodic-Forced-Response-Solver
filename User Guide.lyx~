#LyX 2.4 created this file. For more info see https://www.lyx.org/
\lyxformat 620
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\use_default_options true
\maintain_unincluded_children no
\language american
\language_package default
\inputencoding utf8
\fontencoding auto
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_roman_osf false
\font_sans_osf false
\font_typewriter_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement class
\float_alignment class
\paperfontsize default
\spacing single
\use_hyperref false
\papersize a4
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_formatted_ref 0
\use_minted 0
\use_lineno 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2cm
\topmargin 3cm
\rightmargin 2cm
\bottommargin 3cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation 2em
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\tablestyle default
\tracking_changes false
\output_changes false
\change_bars false
\postpone_fragile_content true
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\docbook_table_output 0
\docbook_mathml_prefix 1
\end_header

\begin_body

\begin_layout Standard
Each model to be analyzed has its own folder,
 such as 
\begin_inset Quotes eld
\end_inset

two-solid system
\begin_inset Quotes erd
\end_inset

 and 
\begin_inset Quotes eld
\end_inset

dof5_model
\begin_inset Quotes erd
\end_inset

 in the examples.
 Inside the model's folder,
 there is a main.m file to call every other functions,
 the structure of the codes is showed in Figure 1.
 To finish the forced response analysis using continuation method under Harmonic Balance Method (HBM) assumption,
 we need to add 
\begin_inset Quotes eld
\end_inset

HBM Continuation Code mex
\begin_inset Quotes erd
\end_inset

 to matlab path.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement document
alignment document
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename structure of the codes.jpg
	lyxscale 30
	width 80page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Structure of the codes 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
In main.m file,
 there are 5 main parts.
 In each part,
 we can see the details inside files.
\end_layout

\begin_layout Standard
First,
 the data.m file which in the same folder with main.m,
 we finish parameters setting.
 Include getting Finite Element Method (FEM) matrices,
 setting harmonics of external forces,
 HBM parameters,
 Newton Method parameters,
 Coulomb friction parameters and continuation parameters.
 
\end_layout

\begin_layout Standard
Second,
 Criag-Bampton (CB) reduction from FEM matrices.
 We can call the CriagBamptonReduction.m to finish the CB reduction.
 Or we also can directly read the CB matrices from CSV file or other file if we already have the CB matrices.
 In this case,
 FEM matrices are not needed in the first part.
\end_layout

\begin_layout Standard
Third,
 Nondimensionalization.
 We can define the different dimensionless parameters to different model,
 so this file stays together with main.m file.
 
\end_layout

\begin_layout Standard
Fourth,
 continuation calculation part,
 after all the parameters setting.
 We can do the calculation and get the x_cont and omega_cont frequency domain results for post processing in the fifth part.
\end_layout

\begin_layout Standard
Fifth,
 in the HBM post processing,
 we do the ifft to get the result in time domain to make the analysis.
\end_layout

\begin_layout Standard
Except data.m,
 Nondimensionalization.m and HBMPostProcessing.m,
 other functions and files are located in the folder 
\begin_inset Quotes eld
\end_inset

HBM Continuation Code mex
\begin_inset Quotes erd
\end_inset

,
 which using g_mex function to calculate the friction forces coding in C++ and compile by matlab.
 
\end_layout

\begin_layout Standard
Other folders,
 
\begin_inset Quotes eld
\end_inset

HBM Continuation Code Matlab
\begin_inset Quotes erd
\end_inset

 has the g function coding in 100% matlab language which we can see the calculation logic.
 But it's much slower than using g_mex.
 
\end_layout

\begin_layout Standard
We can create a now folder for the now model each time,
 then copy the main.m,
 data.m,
 Nondimensionalization.m and HBMPostProcessing.m as templates pasting to the folder and modifying.
\end_layout

\end_body
\end_document
